<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>{% block title %}Speech Practice Coach{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}?v=2">
    {% block head_extra %}{% endblock %}
  </head>
  <body>
    <nav class="navbar">
      <div class="nav-container">
        <div class="logo">
          <h1><a href="{{ url_for('home') }}" style="color: inherit; text-decoration: none;">SpeechSupport</a></h1>
        </div>
        {% set endpoint = request.endpoint or '' %}
        <ul class="nav-menu">
          <li><a href="{{ url_for('home') }}" class="{{ 'active' if endpoint == 'home' else '' }}">Home</a></li>
          {% if current_user.is_authenticated %}
          <li><a href="{{ url_for('dashboard') }}" class="{{ 'active' if endpoint == 'dashboard' else '' }}">Dashboard</a></li>
          <li><a href="{{ url_for('ai.ai_home') }}" class="{{ 'active' if endpoint.startswith('ai.') else '' }}">AI Companion</a></li>
          <li><a href="{{ url_for('coach') }}" class="{{ 'active' if endpoint == 'coach' else '' }}">Speech Coach</a></li>
          {% if current_user.is_authenticated and current_user.is_admin %}
          <li><a href="{{ url_for('admin_users') }}" class="{{ 'active' if endpoint == 'admin_users' else '' }}">Admin</a></li>
          {% endif %}
          <li>
            <form method="post" action="{{ url_for('logout') }}" style="display: inline;">
              <button type="submit" class="btn btn-primary" style="padding: 8px 16px; font-size: 0.9rem;">Log out</button>
            </form>
          </li>
          {% else %}
          <li><a href="{{ url_for('login') }}">Sign In</a></li>
          <li><a href="{{ url_for('register') }}" class="btn btn-primary" style="padding: 8px 16px;">Sign Up</a></li>
          {% endif %}
        </ul>
        <div class="hamburger">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </nav>
    
    {% block page_wrapper %}
    <main>
      {% block content %}{% endblock %}
    </main>
    {% endblock %}
    
    <footer>
      <div class="container">
        <p>&copy; 2025 SpeechSupport. All rights reserved.</p>
        <p>Supporting families on their communication journey</p>
      </div>
    </footer>
    
    <script src="{{ url_for('static', filename='js/navigation.js') }}"></script>
    {% block scripts %}{% endblock %}
  </body>
</html>
